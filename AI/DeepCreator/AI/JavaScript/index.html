<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <link rel="alternate" href="/atom.xml" title="生命之旅" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-corner-indicator.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":true},
    copycode: {"enable":true,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: true,
    pangu: true,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},
    path: 'search.json',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="JavaScript是一种运行在浏览器中的解释型的编程语言。JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于HTML5的手机App，交互逻辑都是由JavaScript驱动的。">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript">
<meta property="og:url" content="https://hazyman.com/AI/DeepCreator/AI/JavaScript/index.html">
<meta property="og:site_name" content="生命之旅">
<meta property="og:description" content="JavaScript是一种运行在浏览器中的解释型的编程语言。JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于HTML5的手机App，交互逻辑都是由JavaScript驱动的。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-01T13:49:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript">
<meta name="twitter:description" content="JavaScript是一种运行在浏览器中的解释型的编程语言。JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于HTML5的手机App，交互逻辑都是由JavaScript驱动的。">

<link rel="canonical" href="https://hazyman.com/AI/DeepCreator/AI/JavaScript/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>JavaScript | 生命之旅</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">生命之旅</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">常识、专业和价值。</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/IPCreator1833" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hazyman.com/AI/DeepCreator/AI/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="IPCreator">
      <meta itemprop="description" content="Life is a journey.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生命之旅">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AI/" itemprop="url" rel="index">
                    <span itemprop="name">AI</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/AI/DeepCreator/AI/JavaScript/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/AI/DeepCreator/AI/JavaScript/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img alt="javascript20180801.jpg" data-src="http://p53s4d2qk.bkt.clouddn.com/javascript20180801.jpg?imageMogr2/thumbnail/!75p"></p>
<blockquote>
<p>  JavaScript是一种运行在浏览器中的解释型的编程语言。JavaScript是世界上最流行的脚本语言，因为你在电脑、手机、平板上浏览的所有的网页，以及无数基于HTML5的手机App，交互逻辑都是由JavaScript驱动的。</p>
</blockquote>
<a id="more"></a>
<h2 id="JavaScript高级程序设计（第3版）"><a href="#JavaScript高级程序设计（第3版）" class="headerlink" title="JavaScript高级程序设计（第3版）"></a><a href="https://book.douban.com/subject/10546125/" target="_blank" rel="noopener">JavaScript高级程序设计（第3版）</a></h2><p> Professional JavaScript for Web</p>
<p><img alt="JavaScriptIntroduction.jpg" data-src="http://p53s4d2qk.bkt.clouddn.com/JavaScriptIntroduction.jpg?imageMogr2/thumbnail/!75p"></p>
<head><meta name="generator" content="Hexo 3.9.0"><br><script src="/js/src/folder2tree.js"></script><br><script src="/js/src/head.min.js"></script><br><script><br>    head.load(“/js/src/Chart.js”, “/js/src/three.min.js”);<br></script><br><link rel="alternate" href="/atom.xml" title="生命之旅" type="application/atom+xml">
</head>



<body><br><br><!-- my content--><br><br>        <div id="ctn"></div><br><br>        <script><br>            /*<em>
             </em> 初始化方法<br>             <em>
             </em> @param {Dom} 父级dom节点<br>             <em> @param {Array} 描述文件夹层级关系对象
             </em>/<br><br>            folder2tree.init(document.getElementById(“ctn”), [<br>                {<br>                    “img” : [<br>                        “sprite.png”,<br>                        “bg.png”<br>                    ]<br>                },{<br>                    “js”: [{<br>                        “common”: [<br>                            “jquery.js”,{<br>                                “highcharts”: [{<br>                                    “modules”: [“exporting.js”]<br>                                },<br>                                “highcharts.js”<br>                            ]}<br>                        ]<br>                    },{<br>                        “index”: [<br>                            “mian.js”,{<br>                                “modules”: [“mod.video.js”]<br>                            }<br>                        ]<br>                    }]<br>                },{<br>                    “css”: [<br>                        “base.css”,<br>                        “index-main.css”,<br>                        “index-video.css”<br>                    ]<br>                },<br>                “index.html”,<br>                “favicon.ico”<br>            ]);<br>        </script><br><br>        <canvas id="myChart" width="400" height="400"></canvas><br>        <canvas id="myChart2" width="400" height="400"></canvas><br>        <canvas id="myChart3" width="400" height="400"></canvas><br><br><script><br><br>    head.ready(function () {<br><br><br>        var ctx1 = document.getElementById(“myChart”).getContext(‘2d’);<br>        var myChart = new Chart(ctx1, {<br>            type: ‘bar’,<br>            data: {<br>                labels: [“Red”, “Blue”, “Yellow”, “Green”, “Purple”, “Orange”],<br>                datasets: [{<br>                    label: ‘# of Votes’,<br>                    data: [12, 19, 3, 5, 2, 3],<br>                    backgroundColor: [<br>                        ‘rgba(255, 99, 132, 0.2)’,<br>                        ‘rgba(54, 162, 235, 0.2)’,<br>                        ‘rgba(255, 206, 86, 0.2)’,<br>                        ‘rgba(75, 192, 192, 0.2)’,<br>                        ‘rgba(153, 102, 255, 0.2)’,<br>                        ‘rgba(255, 159, 64, 0.2)’<br>                    ],<br>                    borderColor: [<br>                        ‘rgba(255,99,132,1)’,<br>                        ‘rgba(54, 162, 235, 1)’,<br>                        ‘rgba(255, 206, 86, 1)’,<br>                        ‘rgba(75, 192, 192, 1)’,<br>                        ‘rgba(153, 102, 255, 1)’,<br>                        ‘rgba(255, 159, 64, 1)’<br>                    ],<br>                    borderWidth: 1<br>                }]<br>            },<br>            options: {<br>                scales: {<br>                    yAxes: [{<br>                        ticks: {<br>                            beginAtZero:true<br>                        }<br>                    }]<br>                }<br>            }<br>        });<br><br>        var ctx2 = document.getElementById(“myChart2”).getContext(‘2d’);<br>        var myChart2 = new Chart(ctx2, {<br>            type: ‘line’,<br>            data: {<br>                labels: [‘春’, ‘夏’, ‘秋’, ‘冬’],<br>                datasets: [{<br>                    fillColor: ‘rgba(0,0,0,0)’,<br>                    strokeColor: ‘rgba(220,180,0,1)’,<br>                    pointColor: ‘rgba(220,180,0,1)’,<br>                    data: [11,37,10,3]<br>                },<br>                {<br>                    fillColor: ‘rgba(0,0,0,0)’,<br>                    strokeColor: ‘rgba(151,187,205,1)’,<br>                    pointColor: ‘rgba(151,187,205,1)’,<br>                    data: [9,29,15,1]<br>                }]<br>            },<br>            options: {<br>                responsive:true,<br>                pointDotRadius:10,<br>                bezierCurve:false,<br>                scaleShowVerticalLines: false,<br>                scaleGridLineColor: ‘black’<br>            }<br>        });<br><br>        var ctx3 = document.getElementById(“myChart3”).getContext(‘2d’);<br>        var myChart3 = new Chart(ctx3, {<br>          type: ‘bar’,<br>          data: {<br>            labels: [“China”, “India”, “United States”, “Indonesia”, “Brazil”, “Pakistan”, “Nigeria”, “Bangladesh”, “Russia”, “Japan”],<br>            datasets: [{<br>              label: ‘Population’,<br>              data: [1379302771, 1281935911, 326625791, 260580739, 207353391, 204924861, 190632261, 157826578, 142257519, 126451398],<br>              backgroundColor: [<br>                ‘rgba(255, 99, 132, 0.6)’,<br>                ‘rgba(54, 162, 235, 0.6)’,<br>                ‘rgba(255, 206, 86, 0.6)’,<br>                ‘rgba(75, 192, 192, 0.6)’,<br>                ‘rgba(153, 102, 255, 0.6)’,<br>                ‘rgba(255, 159, 64, 0.6)’,<br>                ‘rgba(255, 99, 132, 0.6)’,<br>                ‘rgba(54, 162, 235, 0.6)’,<br>                ‘rgba(255, 206, 86, 0.6)’,<br>                ‘rgba(75, 192, 192, 0.6)’,<br>                ‘rgba(153, 102, 255, 0.6)’<br>              ]<br>            }]<br>          }<br>        });<br><br>        var camera, scene, renderer;<br>        var geometry, material, mesh;<br><br>        function init() {<br><br>            camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 0.01, 10 );<br>            camera.position.z = 1;<br><br>            scene = new THREE.Scene();<br><br>            geometry = new THREE.BoxGeometry( 0.2, 0.2, 0.2 );<br>            material = new THREE.MeshNormalMaterial();<br><br>            mesh = new THREE.Mesh( geometry, material );<br>            scene.add( mesh );<br><br>            renderer = new THREE.WebGLRenderer( { antialias: true } );<br>            renderer.setSize( window.innerWidth, window.innerHeight );<br>            document.body.appendChild( renderer.domElement );<br><br>        }<br><br>        function animate() {<br><br>            requestAnimationFrame( animate );<br><br>            mesh.rotation.x += 0.01;<br>            mesh.rotation.y += 0.02;<br><br>            renderer.render( scene, camera );<br><br>        }<br><br>        init();<br>        animate();<br><br><br>    });<br></script><br></body>


<h2 id="说到加载图片，我们可以谈些什么"><a href="#说到加载图片，我们可以谈些什么" class="headerlink" title="说到加载图片，我们可以谈些什么"></a><a href="http://litten.me/2015/04/28/img-lazy-load/" target="_blank" rel="noopener">说到加载图片，我们可以谈些什么</a></h2><p>滚屏加载<br>特殊状态处理<br>上报监控<br>居中截取<br>支持webp</p>
<h2 id="JAVASCRIPT-装载和执行"><a href="#JAVASCRIPT-装载和执行" class="headerlink" title="JAVASCRIPT 装载和执行"></a><a href="https://coolshell.cn/articles/9749.html" target="_blank" rel="noopener">JAVASCRIPT 装载和执行</a></h2><p>通常来说，浏览器对于Javascript的运行有两大特性：1）载入后马上执行，2）执行时会阻塞页面后续的内容（包括页面的渲染、其它资源的下载）。于是，如果有多个js文件被引入，那么对于浏览器来说，这些js文件被被串行地载入，并依次执行。</p>
<p>因为javascript可能会来操作HTML文档的DOM树，所以，浏览器一般都不会像并行下载css文件并行下载js文件，因为这是js文件的特殊性造成的。所以，如果你的javascript想操作后面的DOM元素，基本上来说，浏览器都会报错说对象找不到。因为Javascript执行时，后面的HTML被阻塞住了，DOM树时还没有后面的DOM结点。所以程序也就报错了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;</span><br><span class="line">    src=&quot;https://coolshell.cn/asyncjs/alert.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>基本上来说，head里的script标签会阻塞后续资源的载入以及整个页面的生成。我专门做了一个示例你可以看看：<a href="https://coolshell.cn/asyncjs/async_test01.html" target="_blank" rel="noopener">示例一</a>。 注意：我的alert.js中只有一句话：alert(“hello world”) ，这更容易让你看到javascript是怎么阻塞后面的东西的。</p>
<p>所以，你知道为什么有很多网站把javascript放在网页的最后面了，要么就是动用了window.onload或是docmuemt ready之类的事件。</p>
<p>另外，因为绝大多数的Javascript代码并不需要等页面，所以，我们异步载入的功能。那么我们怎么异步载入呢？</p>
<blockquote>
<p>document.write方式</p>
</blockquote>
<p>于是，你可能以为document.write()这种方式能够解决不阻塞的方式。你当然会觉得，document.write了的 script标签后就可以执行后面的东西去了，这没错。对于在同一个script标签里的Javascript的代码来说，是这样的，但是对于整个页面来说，这个还是会阻塞。 下面是一段测试代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;</span><br><span class="line">function loadjs(script_filename) &#123;</span><br><span class="line">    document.write(&apos;&lt;&apos; + &apos;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&apos;);</span><br><span class="line">    document.write(&apos; src=&quot;&apos; + script_filename + &apos;&quot;&gt;&apos;);</span><br><span class="line">    document.write(&apos;&lt;&apos;+&apos;/script&apos;+&apos;&gt;&apos;);</span><br><span class="line">    alert(&quot;loadjs() exit...&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var script = &apos;https://coolshell.cn/asyncjs/alert.js&apos;;</span><br><span class="line"></span><br><span class="line">loadjs(script);</span><br><span class="line">alert(&quot;loadjs() finished!&quot;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;</span><br><span class="line">alert(&quot;another block&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>你觉得alert的顺序是什么？你可以在不同的浏览器里试一试。这里的想关的测试页面：<a href="https://coolshell.cn/asyncjs/async_test02.html" target="_blank" rel="noopener">示例二</a>。</p>
<blockquote>
<p>script的defer和async属性</p>
</blockquote>
<p>IE自从IE6就支持defer标签，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script defer type=&quot;text/javascript&quot; src=&quot;./alert.js&quot; &gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>对于IE来说，这个标签会让IE并行下载js文件，并且把其执行hold到了整个DOM装载完毕（DOMContentLoaded），多个defer的 script 在执行时也会按照其出现的顺序来运行。最重要的是 script 被加上defer后，其不会阻塞后续DOM的的渲染。但是因为这个defer只是IE专用，所以一般用得比较少。</p>
<p>而我们标准的的HTML5也加入了一个异步载入javascript的属性：async，无论你对它赋什么样的值，只要它出现，它就开始异步加载js文件。但是， async的异步加载会有一个比较严重的问题，那就是它忠实地践行着“载入后马上执行”这条军规，所以，虽然它并不阻塞页面的渲染，但是你也无法控制他执行的次序和时机。你可以<a href="https://coolshell.cn/asyncjs/async_test01.async.html" target="_blank" rel="noopener">看看这个示例</a>去感受一下。</p>
<p>支持 async标签的浏览器是：Firefox3.6+，Chrome 8.0+，Safari 5.0+，IE 10+，Opera还不支持（来自<a href="http://caniuse.com/#feat=script-async" target="_blank" rel="noopener">这里</a>）所以这个方法也不是太好。因为并不是所有的浏览器你都能行。</p>
<blockquote>
<p>动态创建DOM方式</p>
</blockquote>
<p>这种方式可能是用得最多的了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function loadjs(script_filename) &#123;</span><br><span class="line">var script = document.createElement(&apos;script&apos;);</span><br><span class="line">script.setAttribute(&apos;type&apos;, &apos;text/javascript&apos;);</span><br><span class="line">script.setAttribute(&apos;src&apos;, script_filename);</span><br><span class="line">script.setAttribute(&apos;id&apos;, &apos;coolshell_script_id&apos;);</span><br><span class="line"></span><br><span class="line">script_id = document.getElementById(&apos;coolshell_script_id&apos;);</span><br><span class="line">if(script_id)&#123;</span><br><span class="line">    document.getElementsByTagName(&apos;head&apos;)[0].removeChild(script_id);</span><br><span class="line">&#125;</span><br><span class="line">document.getElementsByTagName(&apos;head&apos;)[0].appendChild(script);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var script = &apos;https://coolshell.cn/asyncjs/alert.js&apos;;</span><br><span class="line">loadjs(script);</span><br></pre></td></tr></table></figure>
<p>这个方式几乎成了标准的异步载入js文件的方式，这个方式的演示请参看：<a href="https://coolshell.cn/asyncjs/async_test03.html" target="_blank" rel="noopener">示例三</a>。这方式还被玩出了JSONP的东东，也就是我可以为script的src指定某个后台的脚本（如PHP），而这个PHP返回一个javascript函数，其参数是一个json的字符串，返回来调用我们的预先定义好的javascript的函数。你可以看一下这个示例：<a href="https://coolshell.cn/t.js" target="_blank" rel="noopener">t.js</a> （这个示例是我之前在微博征集的一个异步ajax调用的小例子）</p>
<blockquote>
<p>按需异步载入js</p>
</blockquote>
<p>上面那个DOM方式的例子解决了异步载入Javascript的问题，但是没有解决我们想让他按我们指定的时机运行的问题。所以，我们只需要把上面那个DOM方式绑到某个事件上来就可以了。</p>
<p>比如：</p>
<p>绑在window.load事件上——<a href="https://coolshell.cn/asyncjs/async_test04.html" target="_blank" rel="noopener">示例四 </a></p>
<p>你一定要比较一下示例四和示例三在执行上有什么不同，我在这两个示例中都专门用了个代码高亮的javascript，看看那个代码高亮的的脚本的执行和我的alert.js的执行的情况，你就知道不同了）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.load = loadjs(&quot;https://coolshell.cn/asyncjs/alert.js&quot;)</span><br></pre></td></tr></table></figure>
<p>绑在特定的事件上——<a href>示例五</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p style=&quot;cursor: pointer&quot; onclick=&quot;LoadJS()&quot;&gt;Click to load alert.js &lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>这个示例很简单了。当你点击某个DOM元素，才会真正载入我们的alert.js。</p>
<blockquote>
<p>更多</p>
</blockquote>
<p>但是，绑定在某个特定事件上这个事似乎又过了一点，因为只有在点击的时候才会去真正的下载js，这又会太慢了了。好了，到这里，要抛出我们的终极问题——我们想要异步地把js文件下载到用户的本地，但是不执行，仅当在我们想要执行的时候去执行。</p>
<p>要是我们有下面这样的方式就好了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var script = document.createElement(&quot;script&quot;);</span><br><span class="line">script.noexecute = true;</span><br><span class="line">script.src = &quot;alert.js&quot;;</span><br><span class="line">document.body.appendChild(script);</span><br><span class="line"></span><br><span class="line">//后面我们可以这么干</span><br><span class="line">script.execute();</span><br></pre></td></tr></table></figure>
<p>可惜的是，这只是一个美丽的梦想，今天我们的Javascript还比较原始，这个“JS梦”还没有实现呢。</p>
<p>所以，我们的程序员只能使用hack的方式来搞。</p>
<p>有的程序员使用了非标准的script的type来cache javascript。如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=cache/script src=&quot;./alert.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>因为”cache/script”，这个东西根本就不能被浏览器解析，所以浏览器也就不能把alert.js当javascript去执行，但是他又要去下载js文件，所以就可以搞定了。可惜的是，webkit严格符从了HTML的标准——对于这种不认识的东西，直接删除，什么也不干。于是，我们的梦又破了。</p>
<p>所以，我们需要再hack一下，就像N多年前玩preload图片那样，我们可以动用object标签（也可以动用iframe标签），于是我们有下面这样的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function cachejs(script_filename)&#123;</span><br><span class="line">var cache = document.createElement(&apos;object&apos;);</span><br><span class="line">cache.data = script_filename;</span><br><span class="line">cache.id = &quot;coolshell_script_cache_id&quot;;</span><br><span class="line">cache.width = 0;</span><br><span class="line">cache.height = 0;</span><br><span class="line">document.body.appendChild(cache);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后，我们在的最后调用一下这个函数。请参看一下相关的示例：<a href="https://coolshell.cn/asyncjs/async_test06.html" target="_blank" rel="noopener">示例六</a></p>
<p>在Chrome下按 Ctrl+Shit+I，切换到network页，你就可以看到下载了alert.js但是没有执行，然后我们再用示例五的方式，因为浏览器端有缓存了，不会再从服务器上下载alert.js了。所以，就能保证执行速度了。</p>
<p>关于这种preload这种东西你应该不会陌生了。你还可以使用Ajax的方式，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var xhr = new XMLHttpRequest();</span><br><span class="line">xhr.open(&apos;GET&apos;, &apos;new.js&apos;);</span><br><span class="line">xhr.send(&apos;&apos;);</span><br></pre></td></tr></table></figure>
<p>到这里我就不再多说了，也不给示例了，大家可以自己试试去。</p>
<p>最后再提两个js，一个是<a href="http://stevesouders.com/controljs/" target="_blank" rel="noopener">ControlJS</a>，一个叫<a href="http://headjs.com/" target="_blank" rel="noopener">HeadJS</a>，专门用来做异步load javascript文件的。</p>
<p>好了，这是所有的内容了，希望大家看过后能对Javascript的载入和执行，以及相关的技术有个了解。同时，也希望各前端高手不吝赐教！</p>
<h2 id="统一处理异步的js回调"><a href="#统一处理异步的js回调" class="headerlink" title="统一处理异步的js回调"></a><a href="http://litten.me/2013/10/06/handling-asynchronous-js/" target="_blank" rel="noopener">统一处理异步的js回调</a></h2><p>js编程时经常会用到异步处理，而异步会带了所谓的并发问题。比如，你需要向服务器发出多个ajax请求，然后在返回所有结果后做进一步处理，同时要显示动画。因此我们需要用到以下的方案。</p>
<h2 id="web-worker简易入门"><a href="#web-worker简易入门" class="headerlink" title="web worker简易入门"></a><a href="http://litten.me/2013/09/25/web-worker-learning/" target="_blank" rel="noopener">web worker简易入门</a></h2><p>js是单线程的语言，由于此特性，我们在处理并发时需要用到一些技巧，如setTimeout()，setInterval()，调用XMLHttpRequest等。<br>但这里的并发只是非阻塞（参照John Resig的文章How JavaScript Timers Work），真正的多线程编程则需要HTML5的web worker。</p>
<h2 id="JavaScript教程"><a href="#JavaScript教程" class="headerlink" title="JavaScript教程"></a><a href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000" target="_blank" rel="noopener">JavaScript教程</a></h2><p>为什么我们要学JavaScript？尤其是当你已经掌握了某些其他编程语言如Java、C++的情况下。</p>
<p>简单粗暴的回答就是：<strong>因为你没有选择</strong>。在Web世界里，只有JavaScript能跨平台、跨浏览器驱动网页，与用户交互。</p>
<p>随着HTML5在PC和移动端越来越流行，JavaScript变得更加重要了。并且，新兴的Node.js把JavaScript引入到了服务器端，JavaScript已经变成了全能型选手。</p>
<p>JavaScript严格区分大小写，如果弄错了大小写，程序将报错或者运行不正常。</p>
<p>Number<br>JavaScript不区分整数和浮点数，统一用Number表示，以下都是合法的Number类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">123; // 整数123</span><br><span class="line">0.456; // 浮点数0.456</span><br><span class="line">1.2345e3; // 科学计数法表示1.2345x1000，等同于1234.5</span><br><span class="line">-99; // 负数</span><br><span class="line">NaN; // NaN表示Not a Number，当无法计算结果时用NaN表示</span><br><span class="line">Infinity; // Infinity表示无限大，当数值超过了JavaScript的Number所能表示的最大值时，就表示为Infinity</span><br></pre></td></tr></table></figure>
<p>计算机由于使用二进制，所以，有时候用十六进制表示整数比较方便，十六进制用0x前缀和0-9，a-f表示，例如：0xff00，0xa5b4c3d2，等等，它们和十进制表示的数值完全一样。</p>
<h2 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h2><h3 id="Introducing-d3-express-the-integrated-discovery-environment"><a href="#Introducing-d3-express-the-integrated-discovery-environment" class="headerlink" title="Introducing d3.express: the integrated discovery environment."></a><a href="https://medium.com/@mbostock/a-better-way-to-code-2b1d2876a3a0" target="_blank" rel="noopener">Introducing d3.express: the integrated discovery environment.</a></h3><blockquote>
<p>The purpose of visualization is insight, not pictures.</p>
</blockquote>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><h3 id="最棒的-JavaScript-学习指南（2018版）"><a href="#最棒的-JavaScript-学习指南（2018版）" class="headerlink" title="最棒的 JavaScript 学习指南（2018版）"></a><a href="http://www.cnblogs.com/lhb25/p/javascript-book-2018.html" target="_blank" rel="noopener">最棒的 JavaScript 学习指南（2018版）</a></h3><h3 id="Web前端性能优化——编写高效的JavaScript"><a href="#Web前端性能优化——编写高效的JavaScript" class="headerlink" title="Web前端性能优化——编写高效的JavaScript"></a><a href="http://www.cnblogs.com/MarcoHan/p/5315361.html" target="_blank" rel="noopener">Web前端性能优化——编写高效的JavaScript</a></h3><h3 id="Web前端性能优化进阶——完结篇"><a href="#Web前端性能优化进阶——完结篇" class="headerlink" title="Web前端性能优化进阶——完结篇"></a><a href="http://www.cnblogs.com/MarcoHan/p/5297798.html" target="_blank" rel="noopener">Web前端性能优化进阶——完结篇</a></h3><h3 id="50-tips-of-JavaScript，这些坑你都知道吗？"><a href="#50-tips-of-JavaScript，这些坑你都知道吗？" class="headerlink" title="50 tips of JavaScript，这些坑你都知道吗？"></a><a href="http://www.cnblogs.com/MarcoHan/p/5324263.html" target="_blank" rel="noopener">50 tips of JavaScript，这些坑你都知道吗？</a></h3><h3 id="Chart-js"><a href="#Chart-js" class="headerlink" title="Chart.js"></a><a href="http://www.chartjs.org/docs/latest/" target="_blank" rel="noopener">Chart.js</a></h3><h3 id="Chart-js-文档"><a href="#Chart-js-文档" class="headerlink" title="Chart.js 文档"></a><a href="http://chartjs.cn/docs/" target="_blank" rel="noopener">Chart.js 文档</a></h3><h3 id="数据可视化–Chart-js使用总结"><a href="#数据可视化–Chart-js使用总结" class="headerlink" title="数据可视化–Chart.js使用总结"></a><a href="https://segmentfault.com/a/1190000012324227" target="_blank" rel="noopener">数据可视化–Chart.js使用总结</a></h3><h3 id="图表Chart-js入门教程"><a href="#图表Chart-js入门教程" class="headerlink" title="图表Chart.js入门教程"></a><a href="https://blog.csdn.net/cddcj/article/details/75542565" target="_blank" rel="noopener">图表Chart.js入门教程</a></h3><h3 id="一个文件夹的自我介绍"><a href="#一个文件夹的自我介绍" class="headerlink" title="一个文件夹的自我介绍"></a><a href="http://litten.me/2014/07/25/folder-to-tree/" target="_blank" rel="noopener">一个文件夹的自我介绍</a></h3><h2 id="Machine-Learning-in-Javascript-Introduction"><a href="#Machine-Learning-in-Javascript-Introduction" class="headerlink" title="Machine Learning in Javascript: Introduction"></a><a href="http://burakkanber.com/blog/machine-learning-in-other-languages-introduction/" target="_blank" rel="noopener">Machine Learning in Javascript: Introduction</a></h2><p><img alt="machinelearning2018050702.jpg" data-src="http://p53s4d2qk.bkt.clouddn.com/machinelearning2018050702.jpg?imageMogr2/thumbnail/!75p"></p>
<blockquote>
<p>  To get good at something, you need to practice!</p>
</blockquote>
<p>I love machine learning algorithms. I’ve taught classes and seminars and given talks on ML. The subject is fascinating to me, but like all skills fascination simply isn’t enough. To get good at something, you need to practice!</p>
<p>I also happen to be a PHP and JavaScript developer. I’ve taught classes on both of these as well – but like any decent software engineer I have experience with Ruby, Python, Perl, and C. I just prefer PHP and JS. (Before you flame PHP, I’ll just say that while it has its problems, I like it because it gets stuff done.)</p>
<p>Whenever I say that Tidal Labs’ ML algorithms are in PHP, they look at me funny and ask me how it’s possible. Simple: it’s possible to write ML algorithms in just about any language. Most people just don’t care to learn the fundamentals strongly enough that they can write an algorithm from scratch. Instead, they rely on Python libraries to do the work for them, and end up not truly grasping what’s happening inside the black box. Other people only know ML academically, using Octave or Matlab.</p>
<p>Through this series of articles, I’ll teach you the fundamental machine learning algorithms using Javascript – not Python or Octave – as the example language. Originally I intended to write these articles in a variety of languages (PHP, JS, Perl, C, Ruby), but decided to stick with Javascript for the following reasons:</p>
<p>If you’re a web developer you probably already know JS, regardless of your backend expertise.<br>Javascript has JSFiddle, a great tool that lets me embed executable Javascript right in my posts (hard to do that with C or Perl!)<br>Several people asked me to stick to just one language.<br>While I’ll be writing these articles with Javascript in mind, please re-write the examples in your language of choice as homework! Practice is how you get better, and writing the same algorithm several times in different languages really helps you understand the paradigms better.<br>It’s possible to get excellent performance out of ML algorithms in languages like PHP and Javascript. I advocate writing ML algorithms in other languages because the practice of writing ML algorithms from scratch helps you learn them fundamentally, and it also helps you unify your backend by not requiring a Python script to do processing in the middle of a PHP application. You can do it in PHP, and cut out the (mental and computational) overhead of using another language.</p>
<p>… well, most of the time. There are some things you really can’t do in PHP or Javascript, but those are the more advanced algorithms that require heavy matrix math. While you can do matrix math in JS, there is a big difference between simply “doing matrix math” and doing it efficiently. The advantage of NumPy or Matlab is not in their ability to do matrix operations, it’s in the fact that they use optimized algorithms to do so – things you wouldn’t be able to do yourself unless you dedicate yourself to learning computational linear algebra. And that’s not my field, so we’ll just stick to the ML that doesn’t require the advanced matrix math. You could try brute-forcing the matrix operations, but you’ll end up with a relatively inefficient system. It’s great for learning, so I’m not discouraging it – I would just be wary of doing that in a production environment.</p>
<p>Keep in mind that most of the algorithms we’ll look at can be solved both with and without matrix math. We’ll use iterative or functional approaches here, but most of these algorithms can be done with linear algebra as well. There’s more than one way to skin a cat! I encourage you to also go and learn (or figure out) the linear algebra approaches, but since that’s not my strong suit I’ll use other approaches.</p>
<p>Here are some of the algorithms I intend to cover. I’ll update this list with links to the relevant articles as they’re published:</p>
<p>k-nearest-neighbor (<a href="http://burakkanber.com/blog/machine-learning-in-js-k-nearest-neighbor-part-1/" target="_blank" rel="noopener">Introduction</a>)<br>k-means clustering (<a href="http://burakkanber.com/blog/machine-learning-k-means-clustering-in-javascript-part-1/" target="_blank" rel="noopener">Part 1</a>)<br>Genetic algorithms (<a href="http://burakkanber.com/blog/machine-learning-genetic-algorithms-part-1-javascript/" target="_blank" rel="noopener">Part 1</a>, <a href="http://burakkanber.com/blog/machine-learning-genetic-algorithms-in-javascript-part-2/" target="_blank" rel="noopener">Part 2</a>)<br>Naive Bayes classifier (<a href="http://burakkanber.com/blog/machine-learning-naive-bayes-1/" target="_blank" rel="noopener">Part 1: Document Classification</a>)<br>Sentiment Analysis (<a href="http://burakkanber.com/blog/machine-learning-sentiment-analysis/" target="_blank" rel="noopener">Part 1</a>)<br>Full-text Search (<a href="http://burakkanber.com/blog/machine-learning-full-text-search-in-javascript-relevance-scoring/" target="_blank" rel="noopener">Part 1: Relevance Scoring</a>)<br>Neural network</p>
<p>Happy learning!</p>
<h2 id="Machine-Learning-in-JS-k-nearest-neighbor-Introduction"><a href="#Machine-Learning-in-JS-k-nearest-neighbor-Introduction" class="headerlink" title="Machine Learning in JS: k-nearest-neighbor Introduction"></a><a href="http://burakkanber.com/blog/machine-learning-in-js-k-nearest-neighbor-part-1/" target="_blank" rel="noopener">Machine Learning in JS: k-nearest-neighbor Introduction</a></h2><body><br><br><canvas id="canvas" width="400" height="400"></canvas><br><br><script><br><br>/<em>
</em> Expected keys in object:<br><em> rooms, area, type
</em>/<br>var Node = function(object) {<br>for (var key in object)<br>{<br>    this[key] = object[key];<br>}<br>};<br>Node.prototype.measureDistances = function(area_range_obj, rooms_range_obj) {<br>var rooms_range = rooms_range_obj.max - rooms_range_obj.min;<br>var area_range  = area_range_obj.max  - area_range_obj.min;<br><br>for (var i in this.neighbors)<br>{<br>    /<em> Just shortcut syntax </em>/<br>    var neighbor = this.neighbors[i];<br><br>    var delta_rooms = neighbor.rooms - this.rooms;<br>    delta_rooms = (delta_rooms ) / rooms_range;<br><br>    var delta_area  = neighbor.area  - this.area;<br>    delta_area = (delta_area ) / area_range;<br><br>    neighbor.distance = Math.sqrt( delta_rooms<em>delta_rooms + delta_area</em>delta_area );<br>}<br>};<br>Node.prototype.sortByDistance = function() {<br>this.neighbors.sort(function (a, b) {<br>    return a.distance - b.distance;<br>});<br>};<br>Node.prototype.guessType = function(k) {<br>var types = {};<br><br>for (var i in this.neighbors.slice(0, k))<br>{<br>    var neighbor = this.neighbors[i];<br><br>    if ( ! types[neighbor.type] )<br>    {<br>        types[neighbor.type] = 0;<br>    }<br><br>    types[neighbor.type] += 1;<br>}<br><br>var guess = {type: false, count: 0};<br>for (var type in types)<br>{<br>    if (types[type] &gt; guess.count)<br>    {<br>        guess.type = type;<br>        guess.count = types[type];<br>    }<br>}<br><br>this.guess = guess;<br><br>return types;<br>};<br><br><br><br>var NodeList = function(k) {<br>this.nodes = [];<br>this.k = k;<br>};<br>NodeList.prototype.add = function(node) {<br>this.nodes.push(node);<br>};<br>NodeList.prototype.determineUnknown = function() {<br><br>this.calculateRanges();<br><br>/<em>
 </em> Loop through our nodes and look for unknown types.<br> <em>/<br>for (var i in this.nodes)<br>{<br><br>    if ( ! this.nodes[i].type)<br>    {<br>        /</em><br>         <em> If the node is an unknown type, clone the nodes list and then measure distances.
         </em>/<br><br>        /<em> Clone nodes </em>/<br>        this.nodes[i].neighbors = [];<br>        for (var j in this.nodes)<br>        {<br>            if ( ! this.nodes[j].type)<br>                continue;<br>            this.nodes[i].neighbors.push( new Node(this.nodes[j]) );<br>        }<br><br>        /<em> Measure distances </em>/<br>        this.nodes[i].measureDistances(this.areas, this.rooms);<br><br>        /<em> Sort by distance </em>/<br>        this.nodes[i].sortByDistance();<br><br>        /<em> Guess type </em>/<br>        console.log(this.nodes[i].guessType(this.k));<br><br>    }<br>}<br>};<br>NodeList.prototype.calculateRanges = function() {<br>this.areas = {min: 1000000, max: 0};<br>this.rooms = {min: 1000000, max: 0};<br>for (var i in this.nodes)<br>{<br>    if (this.nodes[i].rooms &lt; this.rooms.min)<br>    {<br>        this.rooms.min = this.nodes[i].rooms;<br>    }<br><br>    if (this.nodes[i].rooms &gt; this.rooms.max)<br>    {<br>        this.rooms.max = this.nodes[i].rooms;<br>    }<br><br>    if (this.nodes[i].area &lt; this.areas.min)<br>    {<br>        this.areas.min = this.nodes[i].area;<br>    }<br><br>    if (this.nodes[i].area &gt; this.areas.max)<br>    {<br>        this.areas.max = this.nodes[i].area;<br>    }<br>}<br><br>};<br>NodeList.prototype.draw = function(canvas_id) {<br>var rooms_range = this.rooms.max - this.rooms.min;<br>var areas_range = this.areas.max - this.areas.min;<br><br>var canvas = document.getElementById(canvas_id);<br>var ctx = canvas.getContext(“2d”);<br>var width = 400;<br>var height = 400;<br>ctx.clearRect(0,0,width, height);<br><br>for (var i in this.nodes)<br>{<br>    ctx.save();<br><br>    switch (this.nodes[i].type)<br>    {<br>        case ‘apartment’:<br>            ctx.fillStyle = ‘red’;<br>            break;<br>        case ‘house’:<br>            ctx.fillStyle = ‘green’;<br>            break;<br>        case ‘flat’:<br>            ctx.fillStyle = ‘blue’;<br>            break;<br>        default:<br>            ctx.fillStyle = ‘#666666’;<br>    }<br><br>    var padding = 40;<br>    var x_shift_pct = (width  - padding) / width;<br>    var y_shift_pct = (height - padding) / height;<br><br>    var x = (this.nodes[i].rooms - this.rooms.min) <em> (width  / rooms_range) </em> x_shift_pct + (padding / 2);<br>    var y = (this.nodes[i].area  - this.areas.min) <em> (height / areas_range) </em> y_shift_pct + (padding / 2);<br>    y = Math.abs(y - height);<br><br><br>    ctx.translate(x, y);<br>    ctx.beginPath();<br>    ctx.arc(0, 0, 5, 0, Math.PI<em>2, true);<br>    ctx.fill();<br>    ctx.closePath();<br><br><br>    /</em><br>     <em> Is this an unknown node? If so, draw the radius of influence
     </em>/<br><br>    if ( ! this.nodes[i].type )<br>    {<br>        switch (this.nodes[i].guess.type)<br>        {<br>            case ‘apartment’:<br>                ctx.strokeStyle = ‘red’;<br>                break;<br>            case ‘house’:<br>                ctx.strokeStyle = ‘green’;<br>                break;<br>            case ‘flat’:<br>                ctx.strokeStyle = ‘blue’;<br>                break;<br>            default:<br>                ctx.strokeStyle = ‘#666666’;<br>        }<br><br>        var radius = this.nodes[i].neighbors[this.k - 1].distance <em> width;<br>        radius </em>= x_shift_pct;<br>        ctx.beginPath();<br>        ctx.arc(0, 0, radius, 0, Math.PI<em>2, true);<br>        ctx.stroke();<br>        ctx.closePath();<br><br>    }<br><br>    ctx.restore();<br><br>}<br><br>};<br><br><br><br>var nodes;<br><br>var data = [<br>{rooms: 1, area: 350, type: ‘apartment’},<br>{rooms: 2, area: 300, type: ‘apartment’},<br>{rooms: 3, area: 300, type: ‘apartment’},<br>{rooms: 4, area: 250, type: ‘apartment’},<br>{rooms: 4, area: 500, type: ‘apartment’},<br>{rooms: 4, area: 400, type: ‘apartment’},<br>{rooms: 5, area: 450, type: ‘apartment’},<br><br>{rooms: 7,  area: 850,  type: ‘house’},<br>{rooms: 7,  area: 900,  type: ‘house’},<br>{rooms: 7,  area: 1200, type: ‘house’},<br>{rooms: 8,  area: 1500, type: ‘house’},<br>{rooms: 9,  area: 1300, type: ‘house’},<br>{rooms: 8,  area: 1240, type: ‘house’},<br>{rooms: 10, area: 1700, type: ‘house’},<br>{rooms: 9,  area: 1000, type: ‘house’},<br><br>{rooms: 1, area: 800,  type: ‘flat’},<br>{rooms: 3, area: 900,  type: ‘flat’},<br>{rooms: 2, area: 700,  type: ‘flat’},<br>{rooms: 1, area: 900,  type: ‘flat’},<br>{rooms: 2, area: 1150, type: ‘flat’},<br>{rooms: 1, area: 1000, type: ‘flat’},<br>{rooms: 2, area: 1200, type: ‘flat’},<br>{rooms: 1, area: 1300, type: ‘flat’},<br>];<br>var run = function() {<br><br>nodes = new NodeList(3);<br>for (var i in data)<br>{<br>    nodes.add( new Node(data[i]) );<br>}<br>var random_rooms = Math.round( Math.random() </em> 10 );<br>var random_area = Math.round( Math.random() * 2000 );<br>nodes.add( new Node({rooms: random_rooms, area: random_area, type: false}) );<br><br>nodes.determineUnknown();<br>nodes.draw(“canvas”);<br>};<br><br><br>setInterval(run, 5000);<br>run();<br><br></script><br><br></body>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"><i class="fa fa-tag"></i> JavaScript</a>
          </div>

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/Concept/DeepCreator/Concept/Writing/" rel="next" title="Writing">
                  <i class="fa fa-chevron-left"></i> Writing
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
                <a href="/AI/DeepCreator/AI/HTML5/" rel="prev" title="HTML5">
                  HTML5 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    <div class="comments" id="comments"></div>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript高级程序设计（第3版）"><span class="nav-number">1.</span> <span class="nav-text">JavaScript高级程序设计（第3版）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#说到加载图片，我们可以谈些什么"><span class="nav-number">2.</span> <span class="nav-text">说到加载图片，我们可以谈些什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAVASCRIPT-装载和执行"><span class="nav-number">3.</span> <span class="nav-text">JAVASCRIPT 装载和执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#统一处理异步的js回调"><span class="nav-number">4.</span> <span class="nav-text">统一处理异步的js回调</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#web-worker简易入门"><span class="nav-number">5.</span> <span class="nav-text">web worker简易入门</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript教程"><span class="nav-number">6.</span> <span class="nav-text">JavaScript教程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可视化"><span class="nav-number">7.</span> <span class="nav-text">可视化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introducing-d3-express-the-integrated-discovery-environment"><span class="nav-number">7.1.</span> <span class="nav-text">Introducing d3.express: the integrated discovery environment.</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">8.</span> <span class="nav-text">参考资料</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最棒的-JavaScript-学习指南（2018版）"><span class="nav-number">8.1.</span> <span class="nav-text">最棒的 JavaScript 学习指南（2018版）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web前端性能优化——编写高效的JavaScript"><span class="nav-number">8.2.</span> <span class="nav-text">Web前端性能优化——编写高效的JavaScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web前端性能优化进阶——完结篇"><span class="nav-number">8.3.</span> <span class="nav-text">Web前端性能优化进阶——完结篇</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#50-tips-of-JavaScript，这些坑你都知道吗？"><span class="nav-number">8.4.</span> <span class="nav-text">50 tips of JavaScript，这些坑你都知道吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Chart-js"><span class="nav-number">8.5.</span> <span class="nav-text">Chart.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Chart-js-文档"><span class="nav-number">8.6.</span> <span class="nav-text">Chart.js 文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据可视化–Chart-js使用总结"><span class="nav-number">8.7.</span> <span class="nav-text">数据可视化–Chart.js使用总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#图表Chart-js入门教程"><span class="nav-number">8.8.</span> <span class="nav-text">图表Chart.js入门教程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一个文件夹的自我介绍"><span class="nav-number">8.9.</span> <span class="nav-text">一个文件夹的自我介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Machine-Learning-in-Javascript-Introduction"><span class="nav-number">9.</span> <span class="nav-text">Machine Learning in Javascript: Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Machine-Learning-in-JS-k-nearest-neighbor-Introduction"><span class="nav-number">10.</span> <span class="nav-text">Machine Learning in JS: k-nearest-neighbor Introduction</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="IPCreator"
    src="/img/logo.jpg">
  <p class="site-author-name" itemprop="name">IPCreator</p>
  <div class="site-description" itemprop="description">Life is a journey.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">1507</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1442</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://blog.163.com/zhuxuanlv@126/" title="http://blog.163.com/zhuxuanlv@126/" rel="noopener" target="_blank">163 Blog</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">IPCreator</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">26.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">403:57</span>
</div>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.5.0
  </div>


<!-- 在网页底部添加网站运行时间 -->
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/24/2019 00:00:00");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = " "+dnum+" D ";
        document.getElementById("times").innerHTML = hnum + " H " + mnum + " M " + snum + " S";
    }
setInterval("createtime()",250);
</script>
        
<div class="busuanzi-count">
  <script pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      element.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  



  <script pjax>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id: 11184,
      el: 'wpac-rating',
      color: 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  <script src="/js/local-search.js"></script>












    <div id="pjax">

  

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'C75jI23HEPhTehiFhCvUSbJY-gzGzoHsz',
    appKey: 'qy3Id9srq8HBxwKg3CVSdNNq',
    placeholder: "Just go go",
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script>

    </div>

</body>
</html>
